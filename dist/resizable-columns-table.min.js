!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.createColResizable=e():t.createColResizable=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";function n(t,e){if(e){(Array.isArray(t)?t:[t]).forEach(function(t){t.classList?t.classList.add(e.split(" ")):t.className+=" "+e})}}function o(t,e){if(e){(Array.isArray(t)?t:[t]).forEach(function(t){t.classList?t.classList.remove(e.split(" ")):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")})}}i.d(e,"d",function(){return s}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"f",function(){return l}),e.a=n,e.e=o;var s=function(t){return"[object Function]"===Object.prototype.toString.call(t)},r=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=function(t){return"[object HTMLTableElement]"===Object.prototype.toString.call(t)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=parseInt(t,10);return isNaN(i)?e:i}},function(t,e,i){t.exports=i(2)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),s=function(t,e){return Object(n.c)(t)&&"TABLE"===t.nodeName?t.__resizable||(t.__resizable=new o.a(t,e)):null};e.default=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=i(0),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.options=s({},t.defaults,i),this.domElmTable=e,this.onGripMouseDown=this.onGripMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.init()}return r(t,[{key:"init",value:function(){Object(o.a)(this.domElmTable,"table-col-resizer"),this.domElmHandleList=[],this.domElmTableTheadThList=[],this.tableWidth=this.domElmTable.offsetWidth+"px",this.cellSpacing=Object(o.f)(getComputedStyle(this.domElmTable).getPropertyValue("border-spacing")),this.borderLeftWidth=Object(o.f)(getComputedStyle(this.domElmTable).getPropertyValue("border-left-width")),this.createGrips()}},{key:"createGrips",value:function(){var t=this,e=this.domElmTable.querySelectorAll("thead th"),i=[];this.domElmHandleContainer=this.domElmTable.previousSibling;var n=this.domElmHandleContainer&&"col-resize-container"===this.domElmHandleContainer.className;n?Array.prototype.push.apply(this.domElmHandleList,this.domElmHandleContainer.childNodes):(this.domElmTable.insertAdjacentHTML("beforebegin",'<div class="col-resize-container"/>'),this.domElmHandleContainer=this.domElmTable.previousSibling),Array.prototype.push.apply(i,e),this.thLength=i.length,this.lastThIndex=this.thLength-1;var s=this.options.disabledColumns;Object(o.b)(s)||(s=[]),i.forEach(function(e,i){var r=-1!==s.indexOf(i),a=void 0;n?a=t.domElmHandleList[i]:(t.domElmHandleContainer.insertAdjacentHTML("beforeend",'<div class="drag-handle">\n          <i class="icon icon-caret-right"></i>\n          <div class="col-resizer"></div>\n          <i class="icon icon-caret-left"></i>\n        </div>'),a=t.domElmHandleContainer.lastChild),i!==t.lastThIndex||n||Object(o.a)(a,"last-handle"),r||n?r&&!n&&Object(o.a)(a,"disabled-drag"):a.addEventListener("mousedown",t.onGripMouseDown),a.index=i,e.w=e.offsetWidth,e.style.width=e.offsetWidth+"px",n||t.domElmHandleList.push(a),t.domElmTableTheadThList.push(e)}),this.syncGrips()}},{key:"syncGrips",value:function(){var t=this.options.headerOnly,e=this.domElmTableTheadThList[0].offsetHeight,i=void 0;i=t?e:this.domElmTable.offsetHeight;for(var n=0;n<this.thLength;n+=1){var s=this.domElmTableTheadThList[n],r=void 0;if(0===n)r=s.offsetWidth+this.cellSpacing/2;else{var a=this.domElmHandleList[n-1].style.left+this.cellSpacing/2;r=Object(o.f)(a)+s.offsetWidth}this.domElmHandleList[n].style.left=r+"px",this.domElmHandleList[n].style.height=i+"px"}var l=[],d=this.domElmHandleContainer.querySelector(".col-resize-container .icon").offsetHeight,h=this.domElmHandleContainer.querySelectorAll(".col-resize-container .icon");Array.prototype.push.apply(l,h),l.forEach(function(t){var i=(e-d)/2;t.style.marginTop=Object(o.f)(i)+"px"})}},{key:"onGripMouseDown",value:function(t){t.preventDefault();var e=t.currentTarget.index,i=this.domElmHandleList[e];return Object(o.a)(i,"active-drag"),i.initPageLeftX=t.pageX,i.initLeft=Object(o.f)(i.style.left),i.x=i.initLeft,this.drag=i,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),!1}},{key:"onMouseMove",value:function(t){if(t.preventDefault(),!this.drag)return!1;var e=this.options.defaultMinWidth,i=this.drag.index,n=e,s=t.pageX,r=s-this.drag.initPageLeftX+this.drag.initLeft,a=1.5*this.cellSpacing+n+this.borderLeftWidth,l=i?Object(o.f)(this.domElmHandleList[i-1].style.left)+this.cellSpacing+n:a,d=Object(o.f)(this.domElmHandleList[i+1].style.left)-this.cellSpacing-n;r=Math.max(l,Math.min(d,r));var h=r-this.drag.initLeft,c=this.domElmTableTheadThList[i],u=this.domElmTableTheadThList[i+1],f=c.w+h,m=u.w-h,p=Object(o.f)(this.domElmTableTheadThList[i].getAttribute("data-min-width")),b=Object(o.f)(this.domElmTableTheadThList[i+1].getAttribute("data-min-width"));if(p>f?r=p-c.w+this.drag.initLeft:b>m&&(r=u.w-b+this.drag.initLeft),this.drag.x=r,this.drag.style.left=r+"px",this.options.liveDrag){this.syncCols(i),this.syncGrips();var v=this.options.onResizing;Object(o.d)(v)&&v(t)}return!1}},{key:"syncCols",value:function(t,e){var i=this.drag.x-this.drag.initLeft,n=this.domElmTableTheadThList[t],o=this.domElmTableTheadThList[t+1],s=n.w+i,r=o.w-i;n.style.width=s+"px",o.style.width=r+"px",e&&(n.w=s,o.w=r)}},{key:"onMouseUp",value:function(t){if(document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),!this.drag)return!1;if(Object(o.e)(this.drag,"active-drag"),this.drag.x-this.drag.initLeft!=0){var e=this.drag.index;this.syncCols(e,!0),this.syncGrips();var i=this.options.onResized;Object(o.d)(i)&&i(t)}return this.drag=null,!0}}]),t}();a.defaults={liveDrag:!0,defaultMinWidth:30,headerOnly:!0,disabledColumns:[],onResizing:null,onResized:null},e.a=a}]).default});